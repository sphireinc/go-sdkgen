/* eslint-disable */
/**
 * AUTO-GENERATED by {{.Cfg.SDKName}} (go-sdkgen)
 * Do not edit manually.
 */

import { Endpoints, AttachEndpointVariable } from "./routes.js";
import { req } from "./requests.js";

const toQueryString = (query) => {
  if (!query) return "";
  const params = new URLSearchParams();
  for (const [k, v] of Object.entries(query)) {
    if (v === undefined || v === null) continue;
    params.append(k, String(v));
  }
  const s = params.toString();
  return s ? `?${s}` : "";
};

{{- range .Model.Operations }}

/**
 * {{ if .Summary }}{{ .Summary }}{{ else }}{{ .Name }}{{ end }}
 */
export const {{ .Name }} = async (
  {{- if gt (len .PathParams) 0 }}path,{{ end -}}
  {{- if gt (len .QueryParams) 0 }}query,{{ end -}}
  {{- if .HasBody }}body,{{ end -}}
  config = {}
) => {
  const { method, uri } = Endpoints().{{ .Name }};

  const finalUri =
    {{- if gt (len .PathParams) 0 }}
    AttachEndpointVariable(uri, path);
    {{- else }}
    uri;
    {{- end }}

  const withQuery =
    finalUri + toQueryString(
      {{- if gt (len .QueryParams) 0 }}query{{ else }}undefined{{ end }}
    );

  return req(
    method,
    withQuery,
    {{- if .HasBody }}body{{ else }}undefined{{ end }},
    config
  );
};

{{- end }}